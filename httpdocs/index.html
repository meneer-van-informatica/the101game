<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no">
<title>the101game · choose language</title>
<style>
  :root{ --phone-w:min(100vw,420px); --bg:#000; --fg:#eaeaea; --line:#2a2a2a; }
  *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--fg);font:15px/1.4 ui-monospace,consolas,monospace}
  #phone{width:var(--phone-w);min-height:100dvh;margin:0 auto;padding:16px 12px;display:flex;flex-direction:column;gap:14px}
  h1{margin:0 0 4px 0;font-size:16px;opacity:.85}
  #lang-quick{display:flex;gap:12px;flex-wrap:wrap}
  .langbtn{flex:1 1 160px;padding:.9rem 1rem;border:1px solid var(--line);background:#111;color:var(--fg);border-radius:10px;font-weight:700;text-transform:lowercase}
  .hint{opacity:.75}
</style>
<body>
<div id="phone">
  <h1>the101game</h1>
  <div id="lang-quick">
    <button id="choose-en" class="langbtn">english</button>
    <button id="choose-nl" class="langbtn">nederlands</button>
  </div>
  <div class="hint">tap one to begin · 0=en · 1=nl</div>
</div>
<script>
(function(){
  function primeAudioIntent(){
    try{
      const AC=window.AudioContext||window.webkitAudioContext;
      if(AC){ const a=new AC(), g=a.createGain(); g.gain.value=0.0001;
        const o=a.createOscillator(); o.type='sine'; o.frequency.value=440;
        o.connect(g); g.connect(a.destination); o.start(); o.stop(a.currentTime+0.01);
        a.resume?.(); setTimeout(()=>{try{a.close()}catch(_){}} ,30);
      }
    }catch(_){}
    localStorage.setItem('w_audio_intent','1');
    localStorage.setItem('w_audio_intent_ts', String(Date.now()));
  }
  function choose(lang){
    localStorage.setItem('site_lang', lang);
    if(lang==='nl'){ localStorage.setItem('w_msg_text','hallo mama'); localStorage.setItem('w_msg_case','1'); }
    else{           localStorage.setItem('w_msg_text','HELLO MAMA'); localStorage.setItem('w_msg_case','0'); }
    primeAudioIntent();
    location.assign('/w0l0.html');
  }
  function bind(){
    document.getElementById('choose-en')?.addEventListener('click', ()=>choose('en'));
    document.getElementById('choose-nl')?.addEventListener('click', ()=>choose('nl'));
    window.addEventListener('keydown', (e)=>{ if(e.key==='0') choose('en'); if(e.key==='1') choose('nl'); });
  }
  if(document.readyState==='complete'||document.readyState==='interactive') bind();
  else document.addEventListener('DOMContentLoaded', bind, {once:true});
})();
</script>
</body>
</html>
